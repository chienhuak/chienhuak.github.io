;/*FB_PKG_DELIM*/

__d("CometUFIShareViaWhatsAppShareMenuItem_shareItem$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometUFIShareViaWhatsAppShareMenuItem_shareItem$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_share_api_url",storageKey:null}]};e.exports=a}),null);
__d("CometUFIShareViaWhatsAppShareMenuItem_shareItem.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareViaWhatsAppShareMenuItem_shareItem",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_share_api_url",storageKey:null}],type:"WhatsAppExternalShareMenuItem",abstractKey:null};e.exports=a}),null);
__d("FeedShareActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("604");b=d("FalcoLoggerInternal").create("feed_share_action",a);e=b;g["default"]=e}),98);
__d("useGroupsCometSharePostEventsClickCallback",["FeedShareActionFalcoEvent","react","useShareLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.shareType==null?"":a.shareType,d=c("useShareLogger")(),e=d.onOpenSharesheetButtonClicked;return i(function(){c("FeedShareActionFalcoEvent").log(function(){return{entry_point:a.shareEntryPoint,share_source_feed_type:a.shareSourceFeedType,share_type:b,shareable_id:a.shareableID}}),e({entry_point:a.shareEntryPoint,shareable_entity_fbid:a.shareableID,sharing_component_name:"ufi_share_button"})},[e,a.shareEntryPoint,a.shareableID,a.shareSourceFeedType,b])}g["default"]=a}),98);
__d("CometUFIShareViaWhatsAppShareMenuItem.react",["fbt","CometBlueprintIcons","CometExternalShareTracking","CometIcon.react","CometListCellPressable.react","CometListCellText.react","CometRelay","CometUFIShareViaWhatsAppShareMenuItem_shareItem.graphql","CometUnauthenticatedUFIUtils","TetraListCell.react","asyncToGeneratorRuntime","promiseDone","react","recoverableViolation","requireDeferred","useGroupsCometSharePostEventsClickCallback","useUnifiedShareSheetLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useCallback,m=c("requireDeferred")("ExternalShareTrackingEventFalcoEvent").__setRef("CometUFIShareViaWhatsAppShareMenuItem.react"),n=c("requireDeferred")("ShareMetricsLoggingController").__setRef("CometUFIShareViaWhatsAppShareMenuItem.react"),o=d("CometExternalShareTracking").shouldEnableExternalShareOptionsTracking();function a(a){var e=a.feedLocation,f=a.onBeforeOpen,g=a.onClose,j=a.shareableID,p=a.shareItem,q=a.shareSourceFeedType,r=a.shareType;a=a.url;p=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIShareViaWhatsAppShareMenuItem_shareItem.graphql"),p);var s=(p=p.external_share_api_url)!=null?p:d("CometExternalShareTracking").getWhatsAppShareURL(a);o&&(s=d("CometExternalShareTracking").getExternalShareURLWithMiBExtID(s,"share_to_whatsapp",e));p="send_in_whatsapp";var t=j!==""&&d("CometUnauthenticatedUFIUtils").shouldShowLoggedOutShareOptions(q),u=c("useGroupsCometSharePostEventsClickCallback")({shareableID:j,shareEntryPoint:p,shareSourceFeedType:q,shareType:r}),v=l(function(){if(s!=null&&o){var a=new URL(s).searchParams.get("text");m.onReady(function(b){b.log(function(){var b;return{content_location:e,entry_point:"agnostic_share_dropdown_entrypoint",intent:"share_to_whatsapp",url:(b=a)!=null?b:""}})})}},[s]);a=c("useUnifiedShareSheetLogger")();var w=a.onShareOptionSelected;if(s==null)return c("recoverableViolation")("External share URL for CometUFIShareViaWhatsAppShareMenuItem was null","comet_feed");var x=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){f!=null&&(yield f()),n.onReady(function(a){a.logShareFunnelEvent({fb_entry_point:"share_to_whatsapp",fb_feed_location:e,fb_share_type:"share_option_selected",shareable_id:j})}),w({entry_point:e,shareable_entity_fbid:j,sharing_action_audience:"private",sharing_action_destination:"whatsapp",sharing_component_name:"share_to_whatsapp_button"}),t&&u(),v(),g()});return function(){return a.apply(this,arguments)}}();p=d("CometUnauthenticatedUFIUtils").shouldShowLoggedOutShareOptions(q)?h._("__JHASH__5fM98VgoVqC__JHASH__"):h._("__JHASH__fj5OkPKIsBx__JHASH__");if(d("CometUnauthenticatedUFIUtils").shouldShowLoggedOutShareOptions(q))return k.jsx(c("CometListCellPressable.react"),{addOnStart:k.jsx(c("CometIcon.react"),{icon:d("CometBlueprintIcons").getUFIOutlinedAppWhatsappIcon()}),content:k.jsx(c("CometListCellText.react"),{headline:p,headlineLineLimit:1}),level:4,linkProps:{target:"_blank",url:s},onPress:function(){return c("promiseDone")(x())},paddingHorizontal:4,paddingVertical:4});else return k.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("CometBlueprintIcons").getUFIOutlinedAppWhatsappIcon(),type:"icon"},headline:p,headlineLineLimit:1,level:4,linkProps:{target:"_blank",url:s},onPress:function(){return c("promiseDone")(x())},size:"small"})}a.displayName=a.name+" [from "+f.id+"]";e=k.memo(a);g["default"]=e}),98);
__d("copiedLinkPushToast",["fbt","ix","TetraIcon.react","cometPushToast","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(){d("cometPushToast").cometPushToast({icon:k.jsx(c("TetraIcon.react"),{color:"positive",icon:d("fbicon")._(i("498146"),20),size:20}),message:h._("__JHASH__wd8epkaz0sz__JHASH__"),testid:"CometCopyLinkToast"},void 0)}g["default"]=a}),98);